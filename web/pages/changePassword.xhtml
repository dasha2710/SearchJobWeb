<html xmlns="http://www.w3.org/1999/xhtml" 
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core" 
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui">
    <h:head>
        <title>#{texts.createNewCv}</title>
    </h:head> 
    <body>
        <h:outputStylesheet name="/css/style.css" />
        <f:view locale="#{language.localeCode}">
            <p:messages id="messages" autoUpdate="true" closable="true" />
            <ui:include src ="templates/header.xhtml"/>
            <center>
                <h:form>
                    <h:panelGrid columns="3" >
                        <p:watermark value = "#{texts.oldpassword}*" for="password"/>
                        <p:password id = "password" title="#{texts.rightPassword}" value="#{userBean.oldPassword}" 
                                    size="35" maxlength="1000" 
                                    required="true" requiredMessage="#{texts.emptyOldPassword}"/>
                        <p:tooltip for="password" showEvent="focus" hideEvent="blur" />  

                        <p:watermark value = "#{texts.password}*" for="password1"/>
                        <p:password id = "password1" title="#{texts.rightPassword}" value="#{userBean.newPassword}" 
                                    size="35" maxlength="1000" 
                                    required="true" requiredMessage="#{texts.emptyPassword}"/>
                        <p:tooltip for="password1" showEvent="focus" hideEvent="blur" />  

                        <p:watermark value = "#{texts.confirmPassword}*" for="password_again"/>
                        <p:password id = "password_again" title = "#{texts.confirmPassword}" 
                                    value="#{userBean.passwordConfirmation}" maxlength="1000" 
                                    size="35" required="true" requiredMessage="#{texts.confirmPassword}"/>
                        <p:tooltip for="password_again" showEvent="focus" hideEvent="blur" />
                    </h:panelGrid>   
                    <p:commandButton value ="#{texts.save}" action ="#{userBean.changePassword()}" styleClass="b1" ajax="false"/>

                </h:form>
                <h:form>
                    <p:commandButton value = "#{texts.toMain}" action="#{userBean.cancelChangingPassword()}" styleClass="b1">
                        <p:confirm header="#{texts.confirm}" message="#{texts.doYouWant}" icon="ui-icon-alert" />  
                    </p:commandButton>

                    <p:confirmDialog global="true" showEffect="fade" hideEffect="explode" header="#{texts.confirm}">  
                        <p:commandButton value="#{texts.yes}" type="button" styleClass="ui-confirmdialog-yes" icon="ui-icon-check"/>  
                        <p:commandButton value="#{texts.no}" type="button"  styleClass="ui-confirmdialog-no" icon="ui-icon-close"/>       
                    </p:confirmDialog> 
                </h:form>
            </center>
            <ui:include src ="templates/footer.xhtml"/>
        </f:view>
    </body>
</html>
